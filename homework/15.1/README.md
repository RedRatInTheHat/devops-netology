## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Решение 1

#### Электронные чеки в json-виде

Подойдёт документоориентированная NoSQL СУБД, вроде MongoDB – такая структура как раз позволит хранить документы с более-менее произвольным содержимым.

#### Склады и автомобильные дороги для логистической компании

Зависит от того, что нам важнее – строить маршрут или просто получать информацию о том, что где находится, какие характеристики у дороги/склада и как они связаны.

В первом случае подойдёт графовая СУБД, во втором – реляционная.

#### Генеалогические деревья

В генеалогических деревьях главное – связи.

Связи хорошо отображаются в реляционных СУБД и ещё лучше – в NoSQL графовых СУБД.

#### Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

Для работы с кэшом используются – а некоторые изначально для этого и предназначались – NoSQL СУБД типа "ключ-значение", вроде Redis или Memcached. Они хранят данные в оперативной памяти, так что позволят производить операцию достаточно быстро, и как минимум некоторые из них обладают разнообразными механизмами TTL.

#### Отношения клиент-покупка для интернет-магазина

Тут по определению нужны реляционные СУБД и их возможностью создавать связи между таблицами и структурировать данные.

---

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?
